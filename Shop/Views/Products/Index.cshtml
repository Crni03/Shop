@model IEnumerable<Shop.Models.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Products</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Price)
        </th>
        <th>
            Price for many
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            @if (item.QuantityForPrice > 0 && item.QuantityPrice > 0)
            {
                @(item.QuantityForPrice + " for " + item.QuantityPrice);
            }
        </td>
        <td>
            @Html.ActionLink("Edit", "GetById", new { id = item.IdProduct, view = "Edit" }) |
            @Html.ActionLink("Details", "GetById", new { id = item.IdProduct, view = "Details" }) |
            @Html.ActionLink("Delete", "Delete", new { id = item.IdProduct }, new { @class = "delete-btn" })
        </td>
    </tr>

}

</table>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script>
    $(document).ready(function () {
        $('.delete-btn').click(function (e) {

            if (confirm("Are you sure?")) {
                
                return true;
            } else {
                e.preventDefault();
                return false;
            }
        })
    })
</script>